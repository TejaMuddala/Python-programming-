import warnings
warnings.filterwarnings("ignore", category=DeprecationWarning)
warnings.filterwarnings("ignore", category=RuntimeWarning)

import pandas as pd
from scipy.stats import chi2_contingency

# Example contingency table
# Suppose we surveyed 100 customers about buying a product
data = {'Buy': [30, 20], 'Not_Buy': [10, 40]}
df = pd.DataFrame(data, index=['Male', 'Female'])

print("=== Contingency Table ===")
print(df)

# Perform Chi-Square test
chi2, p, dof, expected = chi2_contingency(df)

print("\n=== Chi-Square Test Results ===")
print(f"Chi-square value = {chi2}")
print(f"Degrees of freedom = {dof}")
print(f"P-value = {p}")
print("\nExpected frequencies:")
print(expected)
print("\n Observation: There is a significant relationship between Gender andÂ Preference.")